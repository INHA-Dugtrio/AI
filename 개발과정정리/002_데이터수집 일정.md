# 데이터 수집에 대한 구체적인 일정

## **1. 데이터 구분**

데이터 수집에 가장 큰 영향을 미치는 요소는 아래 3가지라고 할 수 있다. 

1) 데이터 간격이 모델 inference 속도가 빠르게 나올 수 있을만큼 여유가 있는가
2) 수집 및 학습 시간이 일정 내에 충분히 끝낼 수 있을 정도로 데이터 양이 적당한가
3) 2번을 만족하면서 동시에 성능이 잘 나올 정도로 데이터 양이 충분한가

3가지 요소는(특히 1번과 2번은) trade-off 관계이기 때문에 정확한 데이터 양을 정하기 힘들다. 
데이터 수집 간격을 정하면 정해둔 데이터 양을 도달하기 위해 소모되는 수집 시간도 달라지게 된다. 
이때, 나이퀴스트-섀넌 표본화 정리에 따르면 RPM에 따라 정해야 하는 시간 간격이 존재한다. 
따라서 RPM이 다른 두 환경을 가정한 뒤, 각 환경에서 RPM 별로 시간 간격을 다르게 둔 뒤, 
데이터 수집을 30분 동안 진행하기로 결정했다. 



RPM : 1200 / 600
RPM 별 데이터 수집 간격: 0.02s / 0.05s
세션 당 수집 시간 : 30분
세션 개수 : 3개
시퀀스 시간 길이: 5초
시퀀스 길이(window size): 250개 / 100개

## **2. 나이퀴스트-섀넌 표본화 정리**

연속적인 신호를 정확하게 재구성하기 위해서는 해당 신호의 최고 주파수의 2배 이상의 주파수로 샘플링해야 한다.
이 정리를 시계열 데이터 수집에 적용하면, 데이터의 주기성을 정확히 포착하기 위해서는 데이터 발생 주기의 최소 2배 빈도로 샘플링(데이터 수집)을 해야 한다.


## ** 3. 데이터 수집 구분**

### 1) 1200RPM으로 돌리는 경우

총 세션: 3개(3번의 독립적인 수집)

세션 당 수집 시간: 30분

데이터 수집 간격: 1200 RPM에 대응되는 수집 간격(0.02s)

---

초당 데이터 포인트 개수: 50개

총 걸리는 시간: 30분 x 3 = 90분

총 데이터 포인트 개수: 50 x 90 x 60 = 27만 개

시퀀스 길이(window size): 250개

총 시퀀스 개수 = 총 데이터 포인트 수 - 시퀀스 길이 + 1
= 270,000 - 250 + 1
= 269,751

예상 총 학습 시간(batch-size = 256) : 2시간 56분
예상 총 학습 시간(batch-size = 1024) : 44분

### 2) 600 RPM으로 돌리는 경우

총 세션: 3개(3번의 독립적인 수집)

세션 당 수집 시간: 30분

데이터 수집 간격: 1200 RPM에 대응되는 수집 간격(0.05s)

---

초당 데이터 포인트 개수: 50개

총 걸리는 시간: 30분 x 3 = 90분

총 데이터 포인트 개수: 20 x 90 x 60 = 10만8천 개

시퀀스 길이(window size): 100개

총 시퀀스 개수 = 총 데이터 포인트 수 - 시퀀스 길이 + 1
= 108,000 - 100 + 1 
= 107,901

예상 총 학습 시간(batch-size = 256) :  1시간 10분
예상 총 학습 시간(batch-size = 1024) : 17분 30초

